<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Class to encapsulate relational filtered datasets with its parents. — CDISCFilteredData • teal.slice</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cerulean/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Class to encapsulate relational filtered datasets with its parents. — CDISCFilteredData"><meta property="og:description" content=""><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">teal.slice</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.0.9010</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/teal.slice.html">Filter panel</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/insightsengineering/teal.slice" class="external-link">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Class to encapsulate relational filtered datasets with its parents.</h1>
    
    <div class="hidden name"><code>CDISCFilteredData.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><a href="https://lifecycle.r-lib.org/articles/stages.html#stable" class="external-link"><img src="figures/lifecycle-stable.svg" alt="[Stable]"></a></p>
    </div>


    <div id="details">
    <h2>Details</h2>
    <p>The <code>CDISCFilteredData</code> class implements logic to filter a relational
dataset by inheriting from <code>FilteredData</code>.
A dataset can have up to one parent dataset. Rows are identified by the foreign
key and only those rows that appear in the parent dataset are kept in the filtered
dataset.</p>
<p>The relational model is attached to the data. When <code>set_data</code> is called with the
data, its <code>keys</code> attribute has the following elements:</p><ul><li><p><code>primary</code>: columns based on which unique rows are counted</p></li>
<li><p><code>parent</code>: parent dataset based on which the dataset is filtered (via <code>inner_join</code>)</p></li>
<li><p><code>foreign</code>: keys to join on when filtering with parent dataset</p></li>
</ul><p>The teal UI works with objects of class <code>FilteredData</code> which may mix CDISC and other
data (e.g. <code>iris</code>).</p>
<p>It is not too difficult to make this class generalize to more than one parent dataset,
provided each dataset then contains information about its parents together with the
shared keys with each of them.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code>FilteredData</code> class</p></div>
    </div>
    <div id="super-class">
    <h2>Super class</h2>
    <p><code><a href="FilteredData.html">teal.slice::FilteredData</a></code> -&gt; <code>CDISCFilteredData</code></p>
    </div>
    <div id="methods">
    <h2>Methods</h2>
    
<div class="section">
<h3 id="public-methods">Public methods<a class="anchor" aria-label="anchor" href="#public-methods"></a></h3>

<ul><li><p><a href="#method-datanames"><code>CDISCFilteredData$datanames()</code></a></p></li>
<li><p><a href="#method-get_call"><code>CDISCFilteredData$get_call()</code></a></p></li>
<li><p><a href="#method-get_filterable_datanames"><code>CDISCFilteredData$get_filterable_datanames()</code></a></p></li>
<li><p><a href="#method-get_filterable_varnames"><code>CDISCFilteredData$get_filterable_varnames()</code></a></p></li>
<li><p><a href="#method-get_parentname"><code>CDISCFilteredData$get_parentname()</code></a></p></li>
<li><p><a href="#method-set_dataset"><code>CDISCFilteredData$set_dataset()</code></a></p></li>
<li><p><a href="#method-clone"><code>CDISCFilteredData$clone()</code></a></p></li>
</ul></div><p><details><summary>Inherited methods</summary><ul><li><p><span class="pkg-link" data-pkg="teal.slice" data-topic="FilteredData" data-id="get_check"><a href="FilteredData.html#method-get_check"><code>teal.slice::FilteredData$get_check()</code></a></span></p></li>
<li><p><span class="pkg-link" data-pkg="teal.slice" data-topic="FilteredData" data-id="get_code"><a href="FilteredData.html#method-get_code"><code>teal.slice::FilteredData$get_code()</code></a></span></p></li>
<li><p><span class="pkg-link" data-pkg="teal.slice" data-topic="FilteredData" data-id="get_data"><a href="FilteredData.html#method-get_data"><code>teal.slice::FilteredData$get_data()</code></a></span></p></li>
<li><p><span class="pkg-link" data-pkg="teal.slice" data-topic="FilteredData" data-id="get_data_attr"><a href="FilteredData.html#method-get_data_attr"><code>teal.slice::FilteredData$get_data_attr()</code></a></span></p></li>
<li><p><span class="pkg-link" data-pkg="teal.slice" data-topic="FilteredData" data-id="get_datalabel"><a href="FilteredData.html#method-get_datalabel"><code>teal.slice::FilteredData$get_datalabel()</code></a></span></p></li>
<li><p><span class="pkg-link" data-pkg="teal.slice" data-topic="FilteredData" data-id="get_filter_overview"><a href="FilteredData.html#method-get_filter_overview"><code>teal.slice::FilteredData$get_filter_overview()</code></a></span></p></li>
<li><p><span class="pkg-link" data-pkg="teal.slice" data-topic="FilteredData" data-id="get_filter_state"><a href="FilteredData.html#method-get_filter_state"><code>teal.slice::FilteredData$get_filter_state()</code></a></span></p></li>
<li><p><span class="pkg-link" data-pkg="teal.slice" data-topic="FilteredData" data-id="get_filtered_dataset"><a href="FilteredData.html#method-get_filtered_dataset"><code>teal.slice::FilteredData$get_filtered_dataset()</code></a></span></p></li>
<li><p><span class="pkg-link" data-pkg="teal.slice" data-topic="FilteredData" data-id="get_join_keys"><a href="FilteredData.html#method-get_join_keys"><code>teal.slice::FilteredData$get_join_keys()</code></a></span></p></li>
<li><p><span class="pkg-link" data-pkg="teal.slice" data-topic="FilteredData" data-id="get_keys"><a href="FilteredData.html#method-get_keys"><code>teal.slice::FilteredData$get_keys()</code></a></span></p></li>
<li><p><span class="pkg-link" data-pkg="teal.slice" data-topic="FilteredData" data-id="get_metadata"><a href="FilteredData.html#method-get_metadata"><code>teal.slice::FilteredData$get_metadata()</code></a></span></p></li>
<li><p><span class="pkg-link" data-pkg="teal.slice" data-topic="FilteredData" data-id="get_varlabels"><a href="FilteredData.html#method-get_varlabels"><code>teal.slice::FilteredData$get_varlabels()</code></a></span></p></li>
<li><p><span class="pkg-link" data-pkg="teal.slice" data-topic="FilteredData" data-id="get_varnames"><a href="FilteredData.html#method-get_varnames"><code>teal.slice::FilteredData$get_varnames()</code></a></span></p></li>
<li><p><span class="pkg-link" data-pkg="teal.slice" data-topic="FilteredData" data-id="handle_active_datanames"><a href="FilteredData.html#method-handle_active_datanames"><code>teal.slice::FilteredData$handle_active_datanames()</code></a></span></p></li>
<li><p><span class="pkg-link" data-pkg="teal.slice" data-topic="FilteredData" data-id="initialize"><a href="FilteredData.html#method-initialize"><code>teal.slice::FilteredData$initialize()</code></a></span></p></li>
<li><p><span class="pkg-link" data-pkg="teal.slice" data-topic="FilteredData" data-id="remove_all_filter_states"><a href="FilteredData.html#method-remove_all_filter_states"><code>teal.slice::FilteredData$remove_all_filter_states()</code></a></span></p></li>
<li><p><span class="pkg-link" data-pkg="teal.slice" data-topic="FilteredData" data-id="remove_filter_state"><a href="FilteredData.html#method-remove_filter_state"><code>teal.slice::FilteredData$remove_filter_state()</code></a></span></p></li>
<li><p><span class="pkg-link" data-pkg="teal.slice" data-topic="FilteredData" data-id="restore_state_from_bookmark"><a href="FilteredData.html#method-restore_state_from_bookmark"><code>teal.slice::FilteredData$restore_state_from_bookmark()</code></a></span></p></li>
<li><p><span class="pkg-link" data-pkg="teal.slice" data-topic="FilteredData" data-id="set_check"><a href="FilteredData.html#method-set_check"><code>teal.slice::FilteredData$set_check()</code></a></span></p></li>
<li><p><span class="pkg-link" data-pkg="teal.slice" data-topic="FilteredData" data-id="set_code"><a href="FilteredData.html#method-set_code"><code>teal.slice::FilteredData$set_code()</code></a></span></p></li>
<li><p><span class="pkg-link" data-pkg="teal.slice" data-topic="FilteredData" data-id="set_filter_state"><a href="FilteredData.html#method-set_filter_state"><code>teal.slice::FilteredData$set_filter_state()</code></a></span></p></li>
<li><p><span class="pkg-link" data-pkg="teal.slice" data-topic="FilteredData" data-id="srv_filter_overview"><a href="FilteredData.html#method-srv_filter_overview"><code>teal.slice::FilteredData$srv_filter_overview()</code></a></span></p></li>
<li><p><span class="pkg-link" data-pkg="teal.slice" data-topic="FilteredData" data-id="srv_filter_panel"><a href="FilteredData.html#method-srv_filter_panel"><code>teal.slice::FilteredData$srv_filter_panel()</code></a></span></p></li>
<li><p><span class="pkg-link" data-pkg="teal.slice" data-topic="FilteredData" data-id="ui_filter_overview"><a href="FilteredData.html#method-ui_filter_overview"><code>teal.slice::FilteredData$ui_filter_overview()</code></a></span></p></li>
<li><p><span class="pkg-link" data-pkg="teal.slice" data-topic="FilteredData" data-id="ui_filter_panel"><a href="FilteredData.html#method-ui_filter_panel"><code>teal.slice::FilteredData$ui_filter_panel()</code></a></span></p></li>
</ul></details></p><hr><a id="method-datanames"></a><div class="section">
<h3 id="method-datanames-">Method <code>datanames()</code><a class="anchor" aria-label="anchor" href="#method-datanames-"></a></h3>
<p>Get datanames</p>
<p>The datanames are returned in the order in which they must be
evaluated (in case of dependencies).</p><div class="section">
<h4 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">CDISCFilteredData</span><span class="op">$</span><span class="fu">datanames</span><span class="op">(</span><span class="op">)</span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="returns">Returns<a class="anchor" aria-label="anchor" href="#returns"></a></h4>
<p>(<code>character</code> vector) of datanames</p>
</div>

</div><p></p><hr><a id="method-get_call"></a><div class="section">
<h3 id="method-get-call-">Method <code>get_call()</code><a class="anchor" aria-label="anchor" href="#method-get-call-"></a></h3>
<p>Returns the filter <code>call</code> to filter a single dataset including the <code>inner_join</code>
with its parent dataset. It assumes that the filtered datasets it depends
on are available.</p><div class="section">
<h4 id="usage-1">Usage<a class="anchor" aria-label="anchor" href="#usage-1"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">CDISCFilteredData</span><span class="op">$</span><span class="fu">get_call</span><span class="op">(</span><span class="va">dataname</span><span class="op">)</span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h4>
<p></p><div class="arguments"><dl><dt><code>dataname</code></dt>
<dd><p>(<code>character</code>) name of the dataset</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-1">Returns<a class="anchor" aria-label="anchor" href="#returns-1"></a></h4>
<p>(<code>call</code> or <code>list</code> of calls ) to filter dataset</p>
</div>

</div><p></p><hr><a id="method-get_filterable_datanames"></a><div class="section">
<h3 id="method-get-filterable-datanames-">Method <code>get_filterable_datanames()</code><a class="anchor" aria-label="anchor" href="#method-get-filterable-datanames-"></a></h3>
<p>Get names of datasets available for filtering</p><div class="section">
<h4 id="usage-2">Usage<a class="anchor" aria-label="anchor" href="#usage-2"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">CDISCFilteredData</span><span class="op">$</span><span class="fu">get_filterable_datanames</span><span class="op">(</span><span class="va">dataname</span><span class="op">)</span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-1">Arguments<a class="anchor" aria-label="anchor" href="#arguments-1"></a></h4>
<p></p><div class="arguments"><dl><dt><code>dataname</code></dt>
<dd><p>(<code>character</code> vector) names of the dataset</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-2">Returns<a class="anchor" aria-label="anchor" href="#returns-2"></a></h4>
<p>(<code>character</code> vector) of dataset names</p>
</div>

</div><p></p><hr><a id="method-get_filterable_varnames"></a><div class="section">
<h3 id="method-get-filterable-varnames-">Method <code><a href="get_filterable_varnames.html">get_filterable_varnames()</a></code><a class="anchor" aria-label="anchor" href="#method-get-filterable-varnames-"></a></h3>
<p>Gets variable names of a given dataname for the filtering. This excludes parent dataset variable names.</p><div class="section">
<h4 id="usage-3">Usage<a class="anchor" aria-label="anchor" href="#usage-3"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">CDISCFilteredData</span><span class="op">$</span><span class="fu">get_filterable_varnames</span><span class="op">(</span><span class="va">dataname</span><span class="op">)</span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-2">Arguments<a class="anchor" aria-label="anchor" href="#arguments-2"></a></h4>
<p></p><div class="arguments"><dl><dt><code>dataname</code></dt>
<dd><p>(<code>character</code>) name of the dataset</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-3">Returns<a class="anchor" aria-label="anchor" href="#returns-3"></a></h4>
<p>(<code>character</code> vector) of variable names</p>
</div>

</div><p></p><hr><a id="method-get_parentname"></a><div class="section">
<h3 id="method-get-parentname-">Method <code>get_parentname()</code><a class="anchor" aria-label="anchor" href="#method-get-parentname-"></a></h3>
<p>Get parent dataset name</p><div class="section">
<h4 id="usage-4">Usage<a class="anchor" aria-label="anchor" href="#usage-4"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">CDISCFilteredData</span><span class="op">$</span><span class="fu">get_parentname</span><span class="op">(</span><span class="va">dataname</span><span class="op">)</span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-3">Arguments<a class="anchor" aria-label="anchor" href="#arguments-3"></a></h4>
<p></p><div class="arguments"><dl><dt><code>dataname</code></dt>
<dd><p>(<code>character</code>) name of the dataset</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-4">Returns<a class="anchor" aria-label="anchor" href="#returns-4"></a></h4>
<p>(<code>character</code>) name of parent dataset</p>
</div>

</div><p></p><hr><a id="method-set_dataset"></a><div class="section">
<h3 id="method-set-dataset-">Method <code>set_dataset()</code><a class="anchor" aria-label="anchor" href="#method-set-dataset-"></a></h3>
<p>Add dataset</p>
<p>Add dataset and preserve all attributes attached to this object.
Technically <code>set_dataset</code> created <code>FilteredDataset</code> which keeps
<code>dataset</code> for filtering purpose.</p><div class="section">
<h4 id="usage-5">Usage<a class="anchor" aria-label="anchor" href="#usage-5"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">CDISCFilteredData</span><span class="op">$</span><span class="fu">set_dataset</span><span class="op">(</span><span class="va">dataset</span><span class="op">)</span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-4">Arguments<a class="anchor" aria-label="anchor" href="#arguments-4"></a></h4>
<p></p><div class="arguments"><dl><dt><code>dataset</code></dt>
<dd><p>(<code>TealDataset</code>)<br>
object containing data and attributes.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns-5">Returns<a class="anchor" aria-label="anchor" href="#returns-5"></a></h4>
<p>(<code>self</code>) object of this class</p>
</div>

</div><p></p><hr><a id="method-clone"></a><div class="section">
<h3 id="method-clone-">Method <code>clone()</code><a class="anchor" aria-label="anchor" href="#method-clone-"></a></h3>
<p>The objects of this class are cloneable with this method.</p><div class="section">
<h4 id="usage-6">Usage<a class="anchor" aria-label="anchor" href="#usage-6"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span class="va">CDISCFilteredData</span><span class="op">$</span><span class="fu">clone</span><span class="op">(</span>deep <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-5">Arguments<a class="anchor" aria-label="anchor" href="#arguments-5"></a></h4>
<p></p><div class="arguments"><dl><dt><code>deep</code></dt>
<dd><p>Whether to make a deep clone.</p></dd>


</dl><p></p></div>
</div>

</div>

    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">scda</span><span class="op">)</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://shiny.rstudio.com/" class="external-link">shiny</a></span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">ADSL</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/scda/man/synthetic_cdisc_data.html" class="external-link">synthetic_cdisc_data</a></span><span class="op">(</span><span class="st">"latest"</span><span class="op">)</span><span class="op">$</span><span class="va">adsl</span></span>
<span class="r-in"><span class="va">ADTTE</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/scda/man/synthetic_cdisc_data.html" class="external-link">synthetic_cdisc_data</a></span><span class="op">(</span><span class="st">"latest"</span><span class="op">)</span><span class="op">$</span><span class="va">adtte</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">adsl</span> <span class="op">&lt;-</span> <span class="fu">teal.data</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/teal.data/man/cdisc_dataset.html" class="external-link">cdisc_dataset</a></span><span class="op">(</span><span class="st">"ADSL"</span>, <span class="va">ADSL</span><span class="op">)</span></span>
<span class="r-in"><span class="va">adtte</span> <span class="op">&lt;-</span> <span class="fu">teal.data</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/teal.data/man/cdisc_dataset.html" class="external-link">cdisc_dataset</a></span><span class="op">(</span><span class="st">"ADTTE"</span>, <span class="va">ADTTE</span><span class="op">)</span></span>
<span class="r-in"><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">teal.data</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/teal.data/man/cdisc_data.html" class="external-link">cdisc_data</a></span><span class="op">(</span><span class="va">adsl</span>, <span class="va">adtte</span><span class="op">)</span></span>
<span class="r-in"><span class="va">datasets</span> <span class="op">&lt;-</span> <span class="fu">teal.slice</span><span class="fu">:::</span><span class="va">CDISCFilteredData</span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># to avoid using isolate(), you can provide a default isolate context by calling</span></span>
<span class="r-in"><span class="co"># options(shiny.suppressMissingContextError = TRUE) #nolint</span></span>
<span class="r-in"><span class="co"># don't forget to deactivate this option at the end</span></span>
<span class="r-in"><span class="co"># options(shiny.suppressMissingContextError = FALSE) #nolint</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># setting the data</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/isolate.html" class="external-link">isolate</a></span><span class="op">(</span><span class="op">{</span></span>
<span class="r-in">  <span class="va">datasets</span><span class="op">$</span><span class="fu">set_dataset</span><span class="op">(</span><span class="va">adsl</span><span class="op">)</span></span>
<span class="r-in">  <span class="va">datasets</span><span class="op">$</span><span class="fu">set_dataset</span><span class="op">(</span><span class="va">adtte</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/isolate.html" class="external-link">isolate</a></span><span class="op">(</span><span class="op">{</span></span>
<span class="r-in">  <span class="va">datasets</span><span class="op">$</span><span class="fu">datanames</span><span class="op">(</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in">  <span class="co"># number observations and subjects of filtered/non-filtered dataset</span></span>
<span class="r-in">  <span class="va">datasets</span><span class="op">$</span><span class="fu">get_filter_overview</span><span class="op">(</span><span class="st">"ADSL"</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in">  <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">datasets</span><span class="op">$</span><span class="fu">get_call</span><span class="op">(</span><span class="st">"ADSL"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in">  <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">datasets</span><span class="op">$</span><span class="fu">get_call</span><span class="op">(</span><span class="st">"ADTTE"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in">  <span class="va">df</span> <span class="op">&lt;-</span> <span class="va">datasets</span><span class="op">$</span><span class="fu">get_data</span><span class="op">(</span><span class="st">"ADSL"</span>, filtered <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span class="r-in">  <span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $filter</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ADSL_FILTERED &lt;- ADSL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $filter</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ADTTE_FILTERED_ALONE &lt;- ADTTE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[2]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ADTTE_FILTERED &lt;- dplyr::inner_join(x = ADTTE_FILTERED_ALONE, </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     y = ADSL_FILTERED[, c("STUDYID", "USUBJID"), drop = FALSE], </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     by = c("STUDYID", "USUBJID"))</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 400 × 41</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    STUDYID USUBJID    SUBJID SITEID   AGE SEX   RACE  ETHNIC COUNTRY DTHFL INVID</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span> AB12345 AB12345-C… id-128 CHN-3     32 M     ASIAN NOT H… CHN     N     INV …</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span> AB12345 AB12345-C… id-262 CHN-15    35 M     BLAC… NOT H… CHN     N     INV …</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span> AB12345 AB12345-R… id-378 RUS-3     30 F     ASIAN NOT H… RUS     N     INV …</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span> AB12345 AB12345-C… id-220 CHN-11    26 F     ASIAN NOT H… CHN     N     INV …</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span> AB12345 AB12345-C… id-267 CHN-7     40 M     ASIAN UNKNO… CHN     N     INV …</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span> AB12345 AB12345-C… id-201 CHN-15    49 M     ASIAN NOT H… CHN     N     INV …</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span> AB12345 AB12345-U… id-45  USA-1     34 F     ASIAN NOT H… USA     N     INV …</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span> AB12345 AB12345-U… id-261 USA-1     32 F     ASIAN NOT H… USA     N     INV …</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span> AB12345 AB12345-N… id-173 NGA-11    24 F     BLAC… NOT H… NGA     N     INV …</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span> AB12345 AB12345-C… id-307 CHN-1     24 M     ASIAN NOT H… CHN     N     INV …</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># … with 390 more rows, and 30 more variables: INVNAM &lt;chr&gt;, ARM &lt;fct&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   ARMCD &lt;fct&gt;, ACTARM &lt;fct&gt;, ACTARMCD &lt;fct&gt;, REGION1 &lt;fct&gt;, STRATA1 &lt;fct&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   STRATA2 &lt;fct&gt;, BMRKR1 &lt;dbl&gt;, BMRKR2 &lt;fct&gt;, ITTFL &lt;fct&gt;, SAFFL &lt;fct&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   BMEASIFL &lt;fct&gt;, BEP01FL &lt;fct&gt;, RANDDT &lt;date&gt;, TRTSDTM &lt;dttm&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   TRTEDTM &lt;dttm&gt;, EOSSTT &lt;fct&gt;, EOTSTT &lt;fct&gt;, EOSDT &lt;date&gt;, EOSDY &lt;int&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   DCSREAS &lt;fct&gt;, DTHDT &lt;date&gt;, DTHCAUS &lt;fct&gt;, DTHCAT &lt;fct&gt;, LDDTHELD &lt;int&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   LDDTHGR1 &lt;fct&gt;, LSTALVDT &lt;date&gt;, DTHADY &lt;int&gt;, study_duration_secs &lt;dbl&gt;</span></span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">filter_state_adtte</span> <span class="op">&lt;-</span> <span class="fu">teal.slice</span><span class="fu">:::</span><span class="fu"><a href="init_filter_state.html">init_filter_state</a></span><span class="op">(</span></span>
<span class="r-in">  <span class="va">ADTTE</span><span class="op">$</span><span class="va">PARAMCD</span>,</span>
<span class="r-in">  varname <span class="op">=</span> <span class="st">"PARAMCD"</span>,</span>
<span class="r-in">  input_dataname <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/name.html" class="external-link">as.name</a></span><span class="op">(</span><span class="st">"ADTTE"</span><span class="op">)</span>,</span>
<span class="r-in">  extract_type <span class="op">=</span> <span class="st">"list"</span></span>
<span class="r-in"><span class="op">)</span></span>
<span class="r-in"><span class="va">filter_state_adtte</span><span class="op">$</span><span class="fu">set_selected</span><span class="op">(</span><span class="st">"OS"</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">states</span> <span class="op">&lt;-</span> <span class="va">datasets</span><span class="op">$</span><span class="fu">get_filtered_dataset</span><span class="op">(</span><span class="st">"ADTTE"</span><span class="op">)</span><span class="op">$</span><span class="fu">get_filter_states</span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span>
<span class="r-in"><span class="va">states</span><span class="op">$</span><span class="fu">queue_push</span><span class="op">(</span><span class="va">filter_state_adtte</span>, queue_index <span class="op">=</span> <span class="fl">1L</span>, element_id <span class="op">=</span> <span class="st">"PARAMCD"</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/isolate.html" class="external-link">isolate</a></span><span class="op">(</span><span class="va">datasets</span><span class="op">$</span><span class="fu">get_call</span><span class="op">(</span><span class="st">"ADTTE"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $filter</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ADTTE_FILTERED_ALONE &lt;- dplyr::filter(ADTTE, ADTTE$PARAMCD == </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "OS")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[2]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ADTTE_FILTERED &lt;- dplyr::inner_join(x = ADTTE_FILTERED_ALONE, </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     y = ADSL_FILTERED[, c("STUDYID", "USUBJID"), drop = FALSE], </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     by = c("STUDYID", "USUBJID"))</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">filter_state_adsl</span> <span class="op">&lt;-</span> <span class="fu">teal.slice</span><span class="fu">:::</span><span class="fu"><a href="init_filter_state.html">init_filter_state</a></span><span class="op">(</span></span>
<span class="r-in">  <span class="va">ADSL</span><span class="op">$</span><span class="va">SEX</span>,</span>
<span class="r-in">  varname <span class="op">=</span> <span class="st">"SEX"</span>,</span>
<span class="r-in">  input_dataname <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/name.html" class="external-link">as.name</a></span><span class="op">(</span><span class="st">"SEX"</span><span class="op">)</span>,</span>
<span class="r-in">  extract_type <span class="op">=</span> <span class="st">"list"</span></span>
<span class="r-in"><span class="op">)</span></span>
<span class="r-in"><span class="va">filter_state_adsl</span><span class="op">$</span><span class="fu">set_selected</span><span class="op">(</span><span class="st">"F"</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">states</span> <span class="op">&lt;-</span> <span class="va">datasets</span><span class="op">$</span><span class="fu">get_filtered_dataset</span><span class="op">(</span><span class="st">"ADSL"</span><span class="op">)</span><span class="op">$</span><span class="fu">get_filter_states</span><span class="op">(</span><span class="st">"filter"</span><span class="op">)</span></span>
<span class="r-in"><span class="va">states</span><span class="op">$</span><span class="fu">queue_push</span><span class="op">(</span><span class="va">filter_state_adsl</span>, queue_index <span class="op">=</span> <span class="fl">1L</span>, element_id <span class="op">=</span> <span class="st">"SEX"</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/isolate.html" class="external-link">isolate</a></span><span class="op">(</span><span class="va">datasets</span><span class="op">$</span><span class="fu">get_call</span><span class="op">(</span><span class="st">"ADSL"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $filter</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ADSL_FILTERED &lt;- dplyr::filter(ADSL, SEX$SEX == "F")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/isolate.html" class="external-link">isolate</a></span><span class="op">(</span><span class="va">datasets</span><span class="op">$</span><span class="fu">get_call</span><span class="op">(</span><span class="st">"ADTTE"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> $filter</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ADTTE_FILTERED_ALONE &lt;- dplyr::filter(ADTTE, ADTTE$PARAMCD == </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     "OS")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[2]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ADTTE_FILTERED &lt;- dplyr::inner_join(x = ADTTE_FILTERED_ALONE, </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     y = ADSL_FILTERED[, c("STUDYID", "USUBJID"), drop = FALSE], </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     by = c("STUDYID", "USUBJID"))</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by NEST, Nikolas Burkoff, Mahmoud Hallal, Dawid
Kaledkowski, Maciej Nasinski, Konrad Pagacz, Pawel Rucki, Junlue Zhao,
Roche.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a>
2.0.2.</p>
</div>

      </footer></div>

  


  

  </body></html>

